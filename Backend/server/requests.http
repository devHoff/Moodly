###############################################
# 0 â€” BASE URL
###############################################
@url = http://localhost:8080



###############################################
# 1 â€” AUTH
###############################################

### SIGNUP (creates user)
POST {{url}}/api/auth/signup
Content-Type: application/json

{
  "nome": "JoÃ£o Silva",
  "email": "joao@example.com",
  "password": "123456"
}

### LOGIN
POST {{url}}/api/auth/login
Content-Type: application/json

{
  "email": "joao@example.com",
  "password": "123456"
}



###############################################
# 2 â€” PROFILE (update user interests + photo)
###############################################

### GET PROFILE
GET {{url}}/api/usuarios/13



### UPDATE PROFILE (returns updated DTO)
PUT {{url}}/api/profile/13
Content-Type: application/json

{
  "fotoPerfil": "https://cdn.moodly.app/perfil/joao.png",
  "interesses": [
    { "tipo": "musica", "nome": "Rock" },
    { "tipo": "filme",  "nome": "Sci-Fi" },
    { "tipo": "jogo",   "nome": "Valorant" }
  ]
}



###############################################
# 3 â€” CONNECTIONS / MATCH
###############################################

### SEND CONNECTION REQUEST (swipe right)
POST {{url}}/api/connections/request
Content-Type: application/json

{
  "currentUserId": 1,
  "targetUserId": 2
}


### LIST PENDING REQUESTS FOR USER 2
GET {{url}}/api/connections/pending/2


### ACCEPT REQUEST (replace 3 with real connectionId)
POST {{url}}/api/connections/3/respond
Content-Type: application/json

{
  "userId": 2,
  "resposta": "aceite"
}


### REFUSE REQUEST
POST {{url}}/api/connections/3/respond
Content-Type: application/json

{
  "userId": 2,
  "resposta": "recusado"
}


### LIST MUTUAL CONNECTIONS FOR USER 1
GET {{url}}/api/connections/mutual/1


### DISCOVER USERS (prioritizes users who sent request)
GET {{url}}/api/connections/discover/1?limit=20



###############################################
# 4 â€” DIRECT CHAT (1â€“1)
###############################################

### SEND MESSAGE (replace 3 with accepted connectionId)
POST {{url}}/api/chats/connection/3
Content-Type: application/json

{
  "autorId": 1,
  "conteudo": "OlÃ¡! ðŸ˜„ Tudo bem?"
}


### GET MESSAGES OF A CHAT
GET {{url}}/api/chats/connection/3



###############################################
# 5 â€” EVENTS
###############################################

### CREATE EVENT
POST {{url}}/api/events
Content-Type: application/json

{
  "criadorId": 1,
  "titulo": "Festa de SÃ¡bado",
  "descricao": "Evento com amigos ðŸ˜Ž",
  "local": "Casa do JoÃ£o",
  "dataEvento": "2025-12-25T20:00:00",
  "convidadosIds": [2,3]
}


### ACCEPT EVENT INVITE (replace 5 with eventId)
POST {{url}}/api/events/5/respond
Content-Type: application/json

{
  "userId": 2,
  "resposta": "aceite"
}


### REFUSE EVENT INVITE
POST {{url}}/api/events/5/respond
Content-Type: application/json

{
  "userId": 3,
  "resposta": "recusado"
}


### LIST EVENTS FOR A USER
GET {{url}}/api/events/user/1


### LIST INVITES FOR USER
GET {{url}}/api/events/invites/2



###############################################
# 6 â€” GROUP CHAT (EVENT)
###############################################

### SEND MESSAGE TO EVENT CHAT
POST {{url}}/api/chats/event/5
Content-Type: application/json

{
  "autorId": 2,
  "conteudo": "A que horas comeÃ§amos? ðŸ˜„"
}


### GET GROUP CHAT MESSAGES
GET {{url}}/api/chats/event/5


### (OPTIONAL) EVENTS WHERE USER PARTICIPATES (FOR CHAT LIST)
GET {{url}}/api/chats/events-for-user/2
